server.servlet.context-path=/eBusiness
###
##数据源信息配置
###
#数据库地址
#spring.datasource.url=jdbc:mysql://localhost:3306/shop?characterEncoding=utf8
spring.datasource.url=jdbc:mysql://localhost:3306/shop?characterEncoding=utf8
#数据库MySQL为8.x时，url为jdbc:mysql://localhost:3306/springbootjpa?useSSL=false&serverTimezone=Asia/Beijing&characterEncoding=utf-8
#数据库用户名
spring.datasource.username=root
#数据库密码
spring.datasource.password=root
#数据库驱动
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#设置包别名（在Mapper映射文件中直接使用实体类名）
mybatis.type-aliases-package=com.ch.ebusiness.entity
#告诉系统在哪里去找mapper.xml文件（映射文件）
mybatis.mapperLocations=classpath:mappers/*.xml
#在控制台输出SQL语句日志
logging.level.com.ch.ebusiness.repository=debug
#关闭Thymeleaf模板引擎缓存（使页面热部署），默认是开启的
spring.thymeleaf.cache=false
#上传文件时，默认单个上传文件大小是1MB，max-file-size设置单个上传文件大小
spring.servlet.multipart.max-file-size=50MB
#默认总文件大小是10MB，max-request-size设置总上传文件大小
spring.servlet.multipart.max-request-size=500MB

###
## 静态资源配置（开发环境热加载）
###
# 禁用静态资源缓存，使图片等资源能够实时更新
spring.web.resources.cache.period=0
spring.web.resources.chain.cache=false
# 静态资源路径
spring.web.resources.static-locations=classpath:/static/,file:src/main/resources/static/

###
## Redis缓存配置
###
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.password=
spring.redis.database=0
# 连接池配置
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=0
spring.redis.lettuce.pool.max-wait=-1ms
# 连接超时时间
spring.redis.timeout=3000ms

###
## 缓存过期时间配置（秒）
###
# 商品类型信息：24小时
cache.ttl.goods-types=86400
# 首页商品列表：1小时
cache.ttl.lasted-goods=3600
# 商品详情：2小时
cache.ttl.goods-detail=7200
# 搜索结果：30分钟
cache.ttl.search-result=1800

###
## Caffeine本地缓存配置
###
# 最大缓存条目数
cache.caffeine.max-size=1000
# 写入后过期时间（分钟）
cache.caffeine.expire-after-write=60

###
## 数据库事务和连接池优化配置
###
# 事务超时时间（秒）
spring.transaction.default-timeout=30
# HikariCP连接池配置（Spring Boot 2.x默认使用HikariCP）
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

