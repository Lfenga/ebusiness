<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<base th:href="@{/}">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç”¨æˆ·æ³¨å†Œ - eBusiness</title>
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/custom.css" />
<script src="js/jquery.min.js"></script>
<script src="js/common.js"></script>
<script type="text/javascript" th:inline="javascript">
	function checkEmail(){
		if(checkNull($("#bemail").val(), "è¯·è¾“å…¥é‚®ç®±ï¼")){
			$.ajax({
				url : [[@{/user/isUse}]],
				type : "post",
				contentType : "application/json",
				data : JSON.stringify({
					bemail : $("#bemail").val()
				}),
				success : function(obj){
					if(obj == "no"){
						$("#isExit").html('<span class="form-validation-error">âœ—</span>');
						showAlert("è¯¥é‚®ç®±å·²è¢«æ³¨å†Œï¼Œè¯·æ›´æ¢ï¼", "warning");
					}else{
						$("#isExit").html('<span class="form-validation-success">âœ“</span>');
						showAlert("é‚®ç®±å¯ç”¨ï¼", "success");
					}
				},
		        error : function() {
		            showAlert("å¤„ç†å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•ï¼", "warning");
		        }
			});
		}
	}
	
	function checkBpwd(){
		if($("#bpwd").val() != $("#rebpwd").val()){
			showAlert("ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´ï¼Œè¯·é‡æ–°è¾“å…¥ï¼", "warning");
			return false;
		}
		document.myform.submit();
	}
	
	function showAlert(message, type) {
		// ä½¿ç”¨å…¨å±€çš„showAlertå‡½æ•°ï¼ˆå·²åœ¨common.jsä¸­å®šä¹‰ï¼‰
		window.showAlert(message, type);
	}
</script>
<style>
	body {
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		min-height: 100vh;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 20px;
	}
</style>
</head>
<body>
	<div class="form-custom" style="max-width: 500px; width: 100%;">
		<div class="form-header">
			<h3>ğŸ“ ç”¨æˆ·æ³¨å†Œ</h3>
			<p style="margin: 10px 0 0 0; font-size: 14px; opacity: 0.9;">åˆ›å»ºæ‚¨çš„è´¦å·ï¼Œå¼€å§‹è´­ç‰©ä¹‹æ—…</p>
		</div>
		
		<form action="user/register" name="myform" method="post" th:object="${bUser}" role="form">
			<div class="form-group">
				<label>ğŸ“§ é‚®ç®±åœ°å€</label>
				<div style="display: flex; gap: 10px; align-items: center;">
					<input type="email" class="form-control"
						   placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€"
						   th:field="*{bemail}" 
						   onblur="checkEmail()" 
						   required 
						   autofocus
						   style="flex: 1;" />
					<span id="isExit" style="min-width: 30px; text-align: center;"></span>
				</div>
				<span th:errors="*{bemail}" style="color: #FF6B6B; font-size: 13px;"></span>
				<p style="margin-top: 8px; color: #6C757D; font-size: 13px;">
					ğŸ’¡ é‚®ç®±å°†ä½œä¸ºæ‚¨çš„ç™»å½•è´¦å·
				</p>
			</div>
	
			<div class="form-group">
				<label>ğŸ”’ è®¾ç½®å¯†ç </label>
				<input type="password" class="form-control"
					   placeholder="è¯·è®¾ç½®6-20ä½å¯†ç " 
					   th:field="*{bpwd}" 
					   required />
				<span th:errors="*{bpwd}" style="color: #FF6B6B; font-size: 13px;"></span>
			</div>
	
			<div class="form-group">
				<label>ğŸ”‘ ç¡®è®¤å¯†ç </label>
				<input type="password" class="form-control"
					   placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " 
					   th:field="*{rebpwd}" 
					   required />
			</div>
	
			<div class="form-group" style="margin-top: 30px;">
				<button type="button" onclick="checkBpwd()" class="btn btn-custom-primary btn-block btn-lg">
					ç«‹å³æ³¨å†Œ
				</button>
			</div>
			
			<div class="form-group text-center">
				<button type="reset" class="btn btn-default">é‡ç½®</button>
				<span style="margin: 0 10px; color: #CCC;">|</span>
				<a href="user/toLogin" style="color: #667eea; font-weight: 600;">
					å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•
				</a>
			</div>
		</form>
		
		<div class="text-center" style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #E9ECEF;">
			<a href="/eBusiness" style="color: #667eea; font-weight: 600;">
				â† è¿”å›é¦–é¡µ
			</a>
		</div>
	</div>
</body>
</html>
