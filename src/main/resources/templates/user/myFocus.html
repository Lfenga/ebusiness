<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<base th:href="@{/}">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æˆ‘çš„æ”¶è— - eBusiness</title>
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/custom.css" />
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/starfield.js"></script>
<script src="js/particles.js"></script>
</head>
<body>
<div th:include="user/header"></div>

<div class="container page-transition" style="margin-top: 30px; margin-bottom: 60px;">
	<!-- é¢åŒ…å±‘å¯¼èˆª -->
	<ol class="breadcrumb breadcrumb-custom">
		<li><a href="/">é¦–é¡µ</a></li>
		<li class="active">æˆ‘çš„æ”¶è—</li>
	</ol>
	
	<div class="panel-custom">
		<div class="panel-heading">
			<h3 class="panel-title">â¤ï¸ æˆ‘çš„æ”¶è—</h3>
		</div>
		<div class="panel-body">
			<div class="table-responsive">
				<table class="table table-custom">
					<thead>
						<tr>
							<th class="text-center">å•†å“å›¾ç‰‡</th>
							<th class="text-center">å•†å“åç§°</th>
							<th class="text-center">åŸä»·</th>
							<th class="text-center">ç°ä»·</th>
							<th class="text-center">ä¼˜æƒ </th>
							<th class="text-center">æ“ä½œ</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="focus:${myFocus}">
							<td class="text-center">
								<a th:href="'goodsDetail?id=' + ${focus.id}"> 
									<img th:src="'images/' + ${focus.gpicture}"
										 class="table-img"
										 alt="å•†å“å›¾ç‰‡">
								</a>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<a th:href="'goodsDetail?id=' + ${focus.id}" 
								   style="color: #2C3E50; font-weight: 600; text-decoration: none;">
									<span th:text="${focus.gname}"></span>
								</a>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<span style="color: #6C757D; text-decoration: line-through; font-size: 14px;">
									Â¥<span th:text="${focus.goprice}"></span>
								</span>
							</td>
						<td class="text-center" style="vertical-align: middle;">
							<span style="color: var(--primary-color); font-weight: 700; font-size: 18px;">
								Â¥<span class="focus-price" th:text="${focus.grprice}"></span>
							</span>
						</td>
							<td class="text-center" style="vertical-align: middle;">
								<span class="badge-sale">
									çœ Â¥<span th:text="${focus.goprice - focus.grprice}"></span>
								</span>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<a th:href="'goodsDetail?id=' + ${focus.id}" 
								   class="btn btn-custom-primary btn-sm">
									ğŸ›’ æŸ¥çœ‹è¯¦æƒ…
								</a>
							</td>
						</tr>
						<!-- ç©ºçŠ¶æ€æç¤º -->
						<tr th:if="${#lists.isEmpty(myFocus)}">
							<td colspan="6">
								<div class="empty-state">
									<div class="empty-state-icon">â¤ï¸</div>
									<p class="empty-state-text">è¿˜æ²¡æœ‰æ”¶è—å•†å“</p>
									<a href="/" class="btn btn-custom-primary">å»é€›é€›</a>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	
	<!-- æ¸©é¦¨æç¤º -->
	<div class="alert alert-custom alert-info" th:unless="${#lists.isEmpty(myFocus)}">
		<strong>ğŸ’¡ æ¸©é¦¨æç¤ºï¼š</strong>
		<ul style="margin: 10px 0 0 20px; padding: 0;">
			<li>æ”¶è—çš„å•†å“ä»·æ ¼å¯èƒ½ä¼šæœ‰å˜åŠ¨</li>
			<li>éƒ¨åˆ†å•†å“å¯èƒ½ä¼šä¸‹æ¶ï¼Œè¯·åŠæ—¶è´­ä¹°</li>
			<li>æ”¶è—å•†å“æ•°é‡ä¸é™ï¼Œéšæ—¶ç®¡ç†æ‚¨çš„å¿ƒæ„¿æ¸…å•</li>
		</ul>
	</div>
</div>

<script>
$(document).ready(function() {
	// ä¸ºæ”¶è—å•†å“ä»·æ ¼æ·»åŠ æ•°å­—æ»šåŠ¨åŠ¨ç”»
	$('.focus-price').each(function(index) {
		var $this = $(this);
		var finalValue = parseFloat($this.text());
		if (!isNaN(finalValue) && window.particleSystem) {
			setTimeout(function() {
				window.particleSystem.animateNumber($this[0], 0, finalValue, 800);
			}, index * 100);
		}
	});
	
	// ä¸ºè¡¨æ ¼è¡Œæ·»åŠ æ‚¬åœé«˜äº®æ•ˆæœ
	$('tbody tr').not(':has(.empty-state)').hover(
		function() {
			$(this).css({
				'background-color': '#FFF5F0',
				'transform': 'scale(1.01)',
				'box-shadow': '0 2px 8px rgba(255, 102, 0, 0.1)'
			});
		},
		function() {
			$(this).css({
				'background-color': '',
				'transform': '',
				'box-shadow': ''
			});
		}
	);
});
</script>
</body>
</html>