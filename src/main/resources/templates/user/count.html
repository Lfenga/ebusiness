<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<base th:href="@{/}">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>订单结算 - eBusiness</title>
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/custom.css" />
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
</head>
<body>
<div th:include="user/header"></div>

<div class="container" style="margin-top: 30px; margin-bottom: 60px;">
	<!-- 面包屑导航 -->
	<ol class="breadcrumb breadcrumb-custom">
		<li><a href="/">首页</a></li>
		<li><a href="cart/selectCart">购物车</a></li>
		<li class="active">订单结算</li>
	</ol>
	
	<div class="panel-custom">
		<div class="panel-heading">
			<h3 class="panel-title">💳 订单结算</h3>
		</div>
		<div class="panel-body">
			<div class="table-responsive">
				<table class="table table-custom">
					<thead>
						<tr>
							<th class="text-center">商品信息</th>
							<th class="text-center">商品名称</th>
							<th class="text-center">单价（元）</th>
							<th class="text-center">数量</th>
							<th class="text-center">小计（元）</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cart:${cartlist}">
							<td class="text-center">
								<a th:href="'goodsDetail?id=' + ${cart.id}"> 
									<img th:src="'images/' + ${cart.gpicture}"
										 class="table-img"
										 alt="商品图片">
								</a>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<a th:href="'goodsDetail?id=' + ${cart.id}" 
								   style="color: #2C3E50; font-weight: 600; text-decoration: none;">
									<span th:text="${cart.gname}"></span>
								</a>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<span style="color: #FF6B6B; font-weight: 700; font-size: 16px;">
									¥<span th:text="${cart.grprice}"></span>
								</span>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<span class="badge-custom" style="background: #E9ECEF; color: #2C3E50; font-size: 14px;">
									×<span th:text="${cart.shoppingnum}"></span>
								</span>
							</td>
							<td class="text-center" style="vertical-align: middle;">
								<span style="color: #FF6B6B; font-weight: 700; font-size: 18px;">
									¥<span th:text="${cart.smallsum}"></span>
								</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			
			<!-- 结算汇总 -->
			<div class="cart-summary" style="margin-top: 30px;">
				<div class="row">
					<div class="col-sm-6">
						<h4 style="color: white; margin: 0;">订单信息</h4>
						<p style="color: rgba(255,255,255,0.8); margin: 5px 0 0 0;">
							共 <strong th:text="${#lists.size(cartlist)}">0</strong> 件商品
						</p>
					</div>
					<div class="col-sm-6 text-right">
						<p style="color: rgba(255,255,255,0.9); margin: 0; font-size: 16px;">
							应付总额（不含运费）
						</p>
						<div class="total-amount">
							¥<span th:text="${total}">0</span>
						</div>
					</div>
				</div>
			</div>
			
			<!-- 操作按钮 -->
			<div class="cart-actions">
				<a href="cart/selectCart" class="btn btn-default btn-lg">
					← 返回购物车
				</a>
				<a th:href="'cart/submitOrder?amount=' + ${total}" 
				   class="btn btn-custom-primary btn-lg btn-icon">
					<span style="font-size: 18px;">✅</span>
					<span>提交订单</span>
				</a>
			</div>
		</div>
	</div>
	
	<!-- 温馨提示 -->
	<div class="alert alert-custom alert-info">
		<strong>💡 温馨提示：</strong>
		<ul style="margin: 10px 0 0 20px; padding: 0;">
			<li>请仔细核对订单信息，确认无误后再提交</li>
			<li>提交订单后，请尽快完成支付</li>
			<li>如有疑问，请联系客服：400-888-8888</li>
		</ul>
	</div>
</div>
</body>
</html>